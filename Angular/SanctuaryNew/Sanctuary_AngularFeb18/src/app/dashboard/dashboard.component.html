<!--new Navbar-->
<nav class="navbar navbar-inverse" style="background-color:rgb(42, 6, 59);margin:0px;">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <span style="font-family:Imprint MT Shadow;font-size:40px;color:whitesmoke;">
        <b>The Sanctuary</b>
      </span>



    </div>
    <div class="collapse navbar-collapse" id="myNavbar">

      <ul class="nav navbar-nav navbar-right" *ngIf="login==false">
        <li>
          <button class="btn btn-link" data-target="#regModal" data-toggle="modal" style="color:white; margin:10px;text-decoration:none;">
            <span class="glyphicon glyphicon-user" style="color:white"></span> Sign Up</button>
        </li>

        <li>
          <button class="btn btn-link" data-target="#loginModal" data-toggle="modal" style="color:white; margin:10px;text-decoration:none;">
            <span class="glyphicon glyphicon-log-in" style="color:white"></span> Login</button>
        </li>
      </ul>
      <ul class="nav navbar-nav navbar-right" *ngIf="login==true">
        <li>
          <button class="btn btn-link" routerLink="/booking" style="color:white; margin:10px;text-decoration:none;">
            Book Room</button>
        </li>
        <li class="dropdown">
          <a class="dropdown-toggle" data-toggle="dropdown" href="#">My Account
            <span class="caret"></span>
          </a>
          <ul class="dropdown-menu">
            <li>
              <a href="/profile">Profile</a>
            </li>
            <li>
              <a href="/previous-bookings">Transaction</a>
            </li>
            <li>
              <a (click)=logout()>Logout</a>
            </li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!--new Navbar-->

<!-- login modal -->
<!-- Modal -->
<div id="loginModal" class="modal fade" role="dialog" data-backdrop="static">
  <div class="modal-dialog modal-md">

    <!-- Modal content-->
    <div class="modal-content" style="max-width:95%;text-align:center;">
      <div class="modal-header" style="background-color:blueviolet;color:aliceblue">
        <button type="button" class="close" data-dismiss="modal" (click)="closeForgetPassword()">&times;</button>
        <h4 class="modal-title">Login</h4>
      </div>

      <div class="modal-body" style="padding:10px 30px 15px;">
        <form [formGroup]="loginForm">
          <mat-error *ngIf="result.Status == false"> {{result.Message}}
          </mat-error>
          <mat-form-field>
            <input matInput placeholder="Email" formControlName="emailId" required>
          </mat-form-field>

          <br/>
          <mat-form-field>
            <input type="password" matInput placeholder="Password" formControlName="password" required>
          </mat-form-field>
          <br/>
          <button type="button" class="btn btn-success" [disabled]="!loginForm.valid" (click)="loginUser(loginForm)">Login</button>

        </form>
        <br>
        <span style="font-size:15px;">Forgot Password?</span>
        <button class="btn btn-link" (click)="forgetPassword()" style="font-size:12px;">Click here</button>

        <div *ngIf="showForgetPasswordForm">
          <form [formGroup]="forgotPasswordForm">
            <mat-form-field>
              <input matInput placeholder="Email" formControlName="forgotUserAccountEmail" required>
            </mat-form-field>
            <button mat-raised-button color="primary" (click)="emailSend(forgotPasswordForm)">Send</button>
          </form>
        </div>

        <br>
        <span style="font-size:15px;">Don't have account ?</span>
        <button class="btn btn-link" data-dismiss="modal" data-target="#regModal" data-toggle="modal" (click)="closeForgetPassword()"
          style="font-size:12px;">Register here</button>
      </div>
    </div>
  </div>
</div>

<!-- register modal -->

<div class="modal fade" id="regModal" role="dialog" data-backdrop="static">
  <div class="modal-dialog modal-md">
    <div class="modal-content" style="max-width:95%; max-height:110%;">
      <div class="modal-header" style="background-color:blueviolet;color:aliceblue">
        <button type="button" class="close" data-dismiss="modal" (click)="closeForgetPassword()">&times;</button>
        <h4 class="modal-title">Register</h4>
      </div>
      <div class="modal-body">
        <form [formGroup]="userForm">
          <mat-form-field>
            <input matInput placeholder="Enter your first Name" formControlName="firstName" maxLength="20" required>
            <mat-error *ngIf="userForm.get('firstName').hasError('pattern')&& !userForm.get('firstName').hasError('required')"> Not a valid first name
            </mat-error>
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Enter your Last Name" formControlName="lastName" maxLength="20" required>
            <mat-error *ngIf="userForm.get('lastName').hasError('pattern')&& !userForm.get('lastName').hasError('required')"> Not a valid last name
            </mat-error>
          </mat-form-field>
          <br/>
          <mat-form-field>
            <input matInput placeholder="Enter your Company Name" formControlName="companyName" maxLength="50" required>
            <mat-error *ngIf="userForm.get('companyName').hasError('pattern')&& !userForm.get('companyName').hasError('required')"> Not a valid company name
            </mat-error>
          </mat-form-field>
          <br>
          <mat-form-field>
            <input matInput placeholder="Enter your Email" formControlName="email" maxLength="50" required>
            <mat-error *ngIf="userForm.get('email').hasError('email')  && !userForm.get('email').hasError('required') "> Email is not valid
            </mat-error>

          </mat-form-field>
          <!-- <span *ngIf="result.Status == false"> {{result.Message}}
            </span> -->

          <div *ngIf="result.Status == false" style="float:right" style="font-size:16px;float:right;color:red;padding-right:70px;">{{result.Message}}
          </div>

          <br>
          <mat-form-field>
            <input matInput placeholder="Enter your Mobile No." formControlName="phoneNumber" maxLength="10" required>
            <mat-error *ngIf="userForm.get('phoneNumber').hasError('pattern')&& !userForm.get('phoneNumber').hasError('required')"> Not a valid Phone Number
            </mat-error>
          </mat-form-field>
          <br/>


          <mat-form-field>
            <input type="password" matInput placeholder="Create Password" formControlName="password" maxLength="16" required>
            <mat-hint>Min 8 characters</mat-hint>
          </mat-form-field>
          <div *ngIf="userForm.get('password').hasError('pattern')&& !userForm.get('password').hasError('required')" style="float:right"
            style="font-size:10px;float:right;color:red;padding-right:40px;"> Password must contain atleast a digit, a uppercase character,
            <br>a lowercase character and a special character( @ # $ % ^ & _ * ).
          </div>
          <br/>
          <mat-form-field>
            <input type="password" matInput placeholder="Confirm Password" formControlName="confirmPassword" maxLength="16" required>

            <mat-error *ngIf="userForm.get('confirmPassword').hasError('mismatch')&& !userForm.get('confirmPassword').hasError('required')">
            Password did not matched
            </mat-error>

          </mat-form-field>
          <br/> Security Question *
          <select class="security"  formControlName="securityQuestion" required>
            <option value="" selected disabled >Choose here</option>
            <option value="1">What is your school name?</option>
            <option value="2">What is your mother's maiden name?</option>
            <option value="3">What is your best friend's name?</option>
          </select>
          <br/>
          <mat-form-field>
            <input matInput placeholder="Answer" formControlName="securityAnswer" maxLength="50" required>
            <mat-error *ngIf="userForm.get('securityAnswer').hasError('pattern')&& !userForm.get('securityAnswer').hasError('required')">
            Invalid Answer
            </mat-error>
          </mat-form-field>
          <br/>
          <button type="button" class="btn btn-success" [disabled]="!userForm.valid" (click)="saveUser(userForm)">Register</button>
        </form>
      </div>
      <div class="modal-footer" style="text-align:center">
        Already have an account ?
        <button class="btn btn-link" data-dismiss="modal" id="#Login" data-target="#loginModal" data-toggle="modal" style="font-size:12px;" (click)="closeForgetPassword()">Login here </button>
      </div>
    </div>
  </div>
</div>